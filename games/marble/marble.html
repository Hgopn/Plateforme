<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ Marble Race</title>
  <link rel="stylesheet" href="marble.css" />
</head>
<body>
  <div class="marble-wrapper">
    <!-- Bandeau haut : titres / scores -->
    <header class="hud">
      <div class="title">
        <h1>ğŸ Marble Race</h1>
        <p>GIFTS vs LIKES</p>
      </div>
      <div class="scores">
        <div class="score-block gifts">
          <span class="label">ğŸ Gifts</span>
          <span id="gift-score" class="value">0</span>
        </div>
        <div class="score-block likes">
          <span class="label">â¤ï¸ Likes</span>
          <span id="like-score" class="value">0</span>
        </div>
      </div>
    </header>

    <!-- Plateau de course -->
    <div class="track-board">
      <svg id="marble-track" viewBox="0 0 800 600" preserveAspectRatio="xMidYMid meet">
        <!-- Fond bois -->
        <defs>
          <linearGradient id="woodGrad" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0%" stop-color="#5a3a21" />
            <stop offset="50%" stop-color="#7a4c24" />
            <stop offset="100%" stop-color="#4a311c" />
          </linearGradient>
          <radialGradient id="neonGlow" cx="50%" cy="50%" r="50%">
            <stop offset="0%" stop-color="rgba(0,255,255,0.9)" />
            <stop offset="40%" stop-color="rgba(0,255,255,0.6)" />
            <stop offset="100%" stop-color="rgba(0,255,255,0)" />
          </radialGradient>
        </defs>

        <!-- plateau -->
        <rect x="40" y="40" width="720" height="520" rx="60" ry="60"
              class="board"/>

        <!-- lueur globale autour de la piste -->
        <path id="track-glow" class="track-glow"
          d="M120 520
             C200 520 260 490 310 450
             C360 410 380 370 430 340
             C500 300 570 300 620 270
             C670 240 700 210 710 170
             C720 130 700 100 660 90
             C620 80 580 90 540 110
             C500 130 470 150 430 170
             C380 195 340 210 300 215
             C260 220 230 220 200 240
             C170 260 150 290 150 330
             C150 370 170 400 190 430
             C210 460 220 480 220 520" />

        <!-- PISTE PRINCIPALE (utilisÃ©e par marble.js) -->
        <path id="track-path" class="track-path"
          d="M120 520
             C200 520 260 490 310 450
             C360 410 380 370 430 340
             C500 300 570 300 620 270
             C670 240 700 210 710 170
             C720 130 700 100 660 90
             C620 80 580 90 540 110
             C500 130 470 150 430 170
             C380 195 340 210 300 215
             C260 220 230 220 200 240
             C170 260 150 290 150 330
             C150 370 170 400 190 430
             C210 460 220 480 220 520" />

        <!-- Obstacles crÃ©Ã©s par JS -->
        <g id="obstacles"></g>

        <!-- Billes -->
        <circle id="ball-gift" class="ball ball-gift" r="12" cx="120" cy="520" />
        <circle id="ball-like" class="ball ball-like" r="12" cx="120" cy="520" />
      </svg>
    </div>

    <footer class="hint">
      <p>ğŸ Cadeaux = bille OR â€¢ â¤ï¸ Likes = bille ROSE â€¢ Le premier Ã  la fin gagne</p>
    </footer>
  </div>

  <!-- Socket.IO puis logique de course -->
  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
  <script src="marble.js"></script>
</body>
</html>
